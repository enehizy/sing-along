{"ast":null,"code":"import axios from 'axios';\nimport cheerio from 'cheerio';\nexport async function querySong(q) {\n  const response = await axios(`https://api.genius.com/search?q=${q}`, {\n    headers: {\n      'Authorization': `Bearer ${process.env.ACCESS_TOKEN}`\n    }\n  });\n  return response.data.response.hits;\n}\nexport async function getLyrics(path) {\n  const result = await axios(`https://genius.com/${path}`);\n  let $ = cheerio.load(`${result.data}`);\n  $ = cheerio.load($('.lyrics  > p').html(), {\n    xml: {\n      normalizeWhitespace: true\n    }\n  });\n  const lyrics = $.root().text();\n  return `${lyrics}`;\n}\nexport async function findSong(id) {\n  console.log({\n    id\n  });\n  const response = await axios(`https://api.genius.com/songs/${id}`, {\n    headers: {\n      'Authorization': `Bearer ${process.env.ACCESS_TOKEN}`\n    }\n  });\n  return response.data.response.song;\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/projects/sing-along/helpers.js"],"names":["axios","cheerio","querySong","q","response","headers","process","env","ACCESS_TOKEN","data","hits","getLyrics","path","result","$","load","html","xml","normalizeWhitespace","lyrics","root","text","findSong","id","console","log","song"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAO,eAAeC,SAAf,CAAyBC,CAAzB,EAA2B;AAE9B,QAAMC,QAAQ,GAAE,MAAMJ,KAAK,CAAE,mCAAkCG,CAAE,EAAtC,EAAwC;AAC/DE,IAAAA,OAAO,EAAC;AACJ,uBAAiB,UAASC,OAAO,CAACC,GAAR,CAAYC,YAAa;AAD/C;AADuD,GAAxC,CAA3B;AAKA,SAAOJ,QAAQ,CAACK,IAAT,CAAcL,QAAd,CAAuBM,IAA9B;AAEH;AAED,OAAO,eAAeC,SAAf,CAAyBC,IAAzB,EAA8B;AAE7B,QAAMC,MAAM,GAAC,MAAMb,KAAK,CAAE,sBAAqBY,IAAK,EAA5B,CAAxB;AACA,MAAIE,CAAC,GAAGb,OAAO,CAACc,IAAR,CAAc,GAAEF,MAAM,CAACJ,IAAK,EAA5B,CAAR;AACAK,EAAAA,CAAC,GAACb,OAAO,CAACc,IAAR,CAAaD,CAAC,CAAC,cAAD,CAAD,CAAkBE,IAAlB,EAAb,EAAuC;AACrCC,IAAAA,GAAG,EAAE;AACHC,MAAAA,mBAAmB,EAAE;AADlB;AADgC,GAAvC,CAAF;AAIE,QAAMC,MAAM,GAACL,CAAC,CAACM,IAAF,GAASC,IAAT,EAAb;AAEA,SAAQ,GAAEF,MAAO,EAAjB;AAET;AAID,OAAO,eAAeG,QAAf,CAAwBC,EAAxB,EAA2B;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY;AAACF,IAAAA;AAAD,GAAZ;AACA,QAAMnB,QAAQ,GAAE,MAAMJ,KAAK,CAAE,gCAA+BuB,EAAG,EAApC,EAAsC;AAC7DlB,IAAAA,OAAO,EAAC;AACJ,uBAAiB,UAASC,OAAO,CAACC,GAAR,CAAYC,YAAa;AAD/C;AADqD,GAAtC,CAA3B;AAKA,SAAOJ,QAAQ,CAACK,IAAT,CAAcL,QAAd,CAAuBsB,IAA9B;AAGH","sourcesContent":["import axios from 'axios';\r\nimport cheerio from 'cheerio';\r\nexport async function querySong(q){\r\n\r\n    const response= await axios(`https://api.genius.com/search?q=${q}`,{\r\n        headers:{\r\n            'Authorization':`Bearer ${process.env.ACCESS_TOKEN}`\r\n        }\r\n    }); \r\n    return response.data.response.hits;\r\n\r\n}\r\n\r\nexport async function getLyrics(path){\r\n  \r\n        const result=await axios(`https://genius.com/${path}`);\r\n        let $ = cheerio.load(`${result.data}`);\r\n        $=cheerio.load($('.lyrics  > p').html(), {\r\n            xml: {\r\n              normalizeWhitespace: true,\r\n            }})\r\n          const lyrics=$.root().text();\r\n          \r\n          return `${lyrics}`;\r\n      \r\n}\r\n     \r\n      \r\n\r\nexport async function findSong(id){\r\n    console.log({id});\r\n    const response= await axios(`https://api.genius.com/songs/${id}`,{\r\n        headers:{\r\n            'Authorization':`Bearer ${process.env.ACCESS_TOKEN}`\r\n        }\r\n    });\r\n    return response.data.response.song;\r\n   \r\n  \r\n}"]},"metadata":{},"sourceType":"module"}